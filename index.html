<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>cmd_portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />

    <style>
      :root {
        --bg-color: #000000;
        --text-main: #f5f5f5;
        --text-dim: #aaaaaa;
        --accent-green: #00ff00;
        --accent-blue: oklab(68.913% -0.07277 -0.15922);
        --accent-military: #3a5f0b;
        --cursor: #ffffff;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: "Lucida Console", "Consolas", "Courier New", monospace;
        overflow: hidden;
      }

      .pane-body::-webkit-scrollbar {
        width: 0px;
        height: 0px;
      }

      .pane-body {
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE/Edge */
      }

      @keyframes hintGlitch {
        0% {
          opacity: 0;
          transform: translateX(0);
        }
        20% {
          opacity: 1;
          transform: translateX(-1px);
        }
        40% {
          transform: translateX(1px);
          filter: hue-rotate(30deg);
        }
        60% {
          transform: translateX(-1px);
          filter: hue-rotate(-20deg);
        }
        80% {
          transform: translateX(1px);
        }
        100% {
          opacity: 1;
          transform: translateX(0);
          filter: none;
        }
      }

      /* --- screens root --- */
      #app-root {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 16px;
      }

      .screen {
        width: 100%;
        height: 100%;
        max-width: 1100px;
        max-height: 650px;
        margin: 0 auto;
      }

      /* ===== BOOT SCREEN ===== */
      #boot-screen {
        border: 2px solid var(--accent-blue);
        background: #000;
        padding: 12px 16px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 162, 255, 0.3);
      }

      #boot-output {
        font-size: 13px;
        line-height: 1.35;
        white-space: pre-wrap;
      }

      .blink {
        animation: blink 1s steps(2, start) infinite;
      }

      @keyframes blink {
        0%,
        50% {
          opacity: 1;
        }
        50.01%,
        100% {
          opacity: 0;
        }
      }

      /* ===== YIN INTRO ===== */
      #yin-screen {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 2px solid var(--accent-blue);
        background: #000;
        padding: 24px;
        text-align: center;
        box-shadow: 0 0 12px rgba(58, 95, 11, 0.6);
      }

      .yin-art {
        font-size: 11px;
        line-height: 11px;
        white-space: pre;
        cursor: pointer;
        margin-bottom: 16px;
      }

      #yin-hint {
        margin-top: 12px;
        font-size: 13px;
        color: var(--text-dim);
      }

      .glitch-char {
        animation: glitch 0.15s linear alternate;
      }

      @keyframes glitch {
        0% {
          opacity: 0.2;
          transform: translateX(-1px);
        }
        100% {
          opacity: 1;
          transform: translateX(1px);
        }
      }

      /* ===== MAIN TERMINAL ===== */
      #main-screen {
        display: flex;
        flex-direction: column;
        border: 2px solid var(--accent-blue);
        background: #000;
        box-shadow: 0 0 14px rgba(58, 95, 11, 0.5);
      }

      .term-titlebar {
        background: #000080;
        color: #f5f5f5;
        padding: 4px 8px;
        font-size: 13px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid var(--accent-military);
      }

      .term-titlebar span {
        white-space: nowrap;
      }

      .term-body {
        flex: 1;
        border-top: 1px solid #003399;
        padding: 8px 10px;
        display: grid;
        grid-template-columns: 260px 1fr;
        gap: 8px;
        overflow: hidden;
      }

      .pane {
        border: 1px solid var(--accent-military);
        padding: 6px 7px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        background: #000;
        box-shadow: inset 0 0 6px rgba(58, 95, 11, 0.4);
      }

      .pane-header {
        font-size: 12px;
        color: var(--accent-green);
        margin-bottom: 4px;
      }

      .pane-body {
        font-size: 13px;
        color: var(--text-main);
        flex: 1;
        overflow-y: auto;
        line-height: 1.35;
        white-space: pre-wrap;
      }

      /* left menu */
      #menu-body {
        font-size: 13px;
      }

      .menu-item-btn {
        background: transparent;
        border: none;
        color: inherit;
        font: inherit;
        text-align: left;
        padding: 0;
        cursor: pointer;
        display: block;
        margin-bottom: 0;
      }

      .menu-item-btn:hover {
        color: var(--accent-green);
      }

      #prompt-line {
        margin-top: 10px;
        color: var(--accent-green);
      }

      .prompt-path {
        color: var(--text-main);
      }

      /* right content */
      #content-body {
        font-size: 13px;
      }

      .typing-cursor {
        display: inline-block;
        width: 8px;
        height: 1em;
        background-color: var(--cursor);
        animation: blink 0.6s steps(2, start) infinite;
        vertical-align: bottom;
      }

      pre {
        font-family: inherit;
        font-size: 12px;
        white-space: pre;
      }

      a {
        color: var(--accent-green);
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      /* bottom console bar */
      .term-footer {
        border-top: 1px solid #003399;
        padding: 4px 8px;
        font-size: 11px;
        color: var(--text-dim);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      #device-info {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      #lang-toggle,
      #theme-toggle {
        cursor: pointer;
      }

      #volume-control {
        margin-right: 10px;
      }

      .vol-btn {
        cursor: pointer;
        color: var(--accent-green);
      }

      .vol-btn:hover {
        text-decoration: underline;
      }

      @media (max-width: 900px) {
        .term-body {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto;
        }
      }

      @keyframes blink {
        0%,
        50% {
          opacity: 1;
        }
        50.01%,
        100% {
          opacity: 0;
        }
      }
    </style>
  </head>

  <body>
    <div id="app-root"></div>

    <!-- sonido suave de teclado -->
    <audio
      id="keySound"
      src="https://assets.mixkit.co/sfx/preview/mixkit-soft-typing-on-computer-keyboard-2533.mp3"
      preload="auto"
    ></audio>

    <script>
      /* ========= UBICACI√ìN / TEMPERATURA ========= */
      let deviceCity = "UNKNOWN";
      let deviceTemp = "--";

      function refreshDeviceInfoDom() {
        const el = document.getElementById("device-info");
        if (!el) return;
        el.textContent = `DEVICE: ${deviceCity} | TEMP: ${deviceTemp}¬∞C`;
      }

      (function initLocation() {
        if (!navigator.geolocation) {
          refreshDeviceInfoDom();
          return;
        }

        navigator.geolocation.getCurrentPosition(
          async (pos) => {
            try {
              const lat = pos.coords.latitude;
              const lon = pos.coords.longitude;
              const url =
                "https://api.open-meteo.com/v1/forecast?latitude=" +
                lat +
                "&longitude=" +
                lon +
                "&current_weather=true";

              const res = await fetch(url);
              const data = await res.json();
              const temp =
                data &&
                data.current_weather &&
                typeof data.current_weather.temperature !== "undefined"
                  ? data.current_weather.temperature
                  : "--";

              deviceCity = "Local";
              deviceTemp = temp;
              refreshDeviceInfoDom();
            } catch (e) {
              refreshDeviceInfoDom();
            }
          },
          () => {
            refreshDeviceInfoDom();
          }
        );
      })();

      /* ========= SONIDO TECLADO ========= */
      const keySound = document.getElementById("keySound");

      function playKey() {
        if (!keySound) return;
        keySound.currentTime = 0;
        keySound.play();
      }

      /* ========= CONSTANT ASCII ART ========= */
      const YINYANG_ART = String.raw`
                                                            &&&&&&&&                                                            
                                                    &&&&&............&&&&&X+                                                    
                                                &&&.......;+xXXXXXx+.....&&&&xx+                                                
                                             &&.....xXXXXXXXXXXXXXXXXXXx...X&&&&$X+                                             
                                          &&....xXXXXXXXXXXXXXXXXXXXXXXXXX+..&&&&&$Xx+                                          
                                        &&...xXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX:.x&&&&&&$X+                                        
                                      &&...XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX+.x&&&&&&&$X+                                      
                                     &..:XXXXXXXXXXXXXXXXXXX:.......XXXXXXXXXX+.&&&&&&&&&$X                                     
                                   &&..xXXXXXXXXXXXXXXXXXXX..&&&&&&..XXXXXXXXXX..&&&&&&&&&&$x                                   
                                  &..:XXXXXXXXXXXXXXXXXXXX+.&&&&&&&&.;XXXXXXXXXx.&&&&&&&&&&&$x                                  
                                 &..xXXXXXXXXXXXXXXXXXXXXX+&&&&&&&&&&;XXXXXXXXXX.&&&&&&&&&&&&$x                                 
                                &..xXXXXXXXXXXXXXXXXXXXXXX+.&&&&&&&&.;XXXXXXXXX+.&&&&&&&&&&&&&$x                                
                               &$.xXXXXXXXXXXXXXXXXXXXXXXXX...&&&&...XXXXXXXXXX..&&&&&&&&&&&&&&$x                               
                              &&.+XXXXXXXXXXXXXXXXXXXXXXXXXXx......xXXXXXXXXXX;.&&&&&&&&&&&&&&&&$+                              
                              &.:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;.&&&&&&&&&&&&&&&&&&X                              
                             &&.xXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX..&&&&&&&&&&&&&&&&&&&$+                             
                             &..XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXx...&&&&&&&&&&&&&&&&&&&&&x                             
                             &.+XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX:...&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXx;::.......&&&&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &.XXXXXXXXXXXXXXXXXXXXXXXXx.........:X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &.XXXXXXXXXXXXXXXXXXXXXx....&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &.xXXXXXXXXXXXXXXXXXXx...&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &.:XXXXXXXXXXXXXXXXX:..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&x                             
                             &$.XXXXXXXXXXXXXXXX..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$+                             
                              &.;XXXXXXXXXXXXXX..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X                              
                              &&.xXXXXXXXXXXXX+.&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$+                              
                               &..XXXXXXXXXXXX.&&&&&&&&&&&&&&&&:.&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X                               
                                &..XXXXXXXXXXX.&&&&&&&&&&&&&........&&&&&&&&&&&&&&&&&&&&&&&&&&&$                                
                                &&..XXXXXXXXXX.&&&&&&&&&&&&&.+XXXXx.&&&&&&&&&&&&&&&&&&&&&&&&&&$x                                
                                 &&..xXXXXXXXX.&&&&&&&&&&&&&.;XXXX;.&&&&&&&&&&&&&&&&&&&&&&&&&$x                                 
                                   &..:XXXXXXX.&&&&&&&&&&&&&&......&&&&&&&&&&&&&&&&&&&&&&&&$X                                   
                                    &&..+XXXXX.X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$x                                    
                                      &+..+XXX+.&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$X                                      
                                       &&...;XX:.&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$X+                                       
                                         &&&...+:.&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$Xx;                                         
                                            &&......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$X+                                            
                                               &&&....$&&&&&&&&&&&&&&&&&&&&&&&$xx                                               
                                                   &&&....X&&&&&&&&&&&&$XxxxX                                                   
                                                        &&&XxxxxxxxxxxX;                                                        
`;

      const ASCII_ME = String.raw`                                      
 ******#***=   @@@@@@@@@@.   .=***************** 
 ##***##*=  =@@@@#=:*%@@@@@@@:  =#*####**#****## 
 *******: @@@@*@@%@@@@*#=%@@@@@% -************** 
 ******= @@@*%@@@@@@#%@@@.===*@@@ ************** 
 ****** *@@%@@@@@@@@%@@:+@@@@@@@@ -************* 
 *#***= @@@@@@@@@@%@@@@@@@@#@%:@@@ *##**####**## 
 *****: @@@@@@@@@@@@%--*=:..=@@*@@:*##**##***### 
 *****:-@@@%*#@@@@*=%%.    =:%@@@= ************* 
 *****= @@=======:==.:@@@@@@-.**@#:***#********* 
 ****** %@:@@@@@%%@@@@@#%=**@=#@@+.*###***##**** 
 *****#- @***%@@@@@ +@@@@@%#***@ @#+************ 
 ******+ @@@@%@@@@@.:   .:+*#%*%@@+=************ 
 ******* @@%@@@@@*.-==*@+:::=*%*%@-************* 
 ******* @@@#.*@#@*--#*@@@@@=*%***=************* 
 ###***#= @@@@@@@@@@@@   -@@**%@@#+******#****## 
 ******** @@@%%**%@@%@@@@@@@+*@.:=************** 
 ********: @@%@@@%%%:..   #@=@@:**************** 
 *********- @@@*#@%+*%@%**+*@%%-***************# 
 **********: @@@%%@@@@@#%*+%%*%*=**###***#****## 
 ***********- :@%@@      =@@#*#@-.    :=**#***** 
 ************= @@%@@@@@@@@%***#%**@@@%+      :+* 
 ************+ .@@@@@@@@:=*###+::@@%@@@@@@@@@*   
 *#*******:    %@%%%@%+=-*%*=::@@@%%%%%%%%@@@@@@:
 ****#+.   @@@@@@@%#%@@@%*=.*@@@%#%%%%%%%%%%%@%% 
 ***:   @@@@@@==*****=*%@@@@@%**#%%%%%%%%%%@%@%% 
     @@@@@@%%@@@@@@@@@@@@@%%#%%%%%%%%%%%%%%@%%@% 
 :@@@@@%%##%%@@@@+-=**#%#%%@%@@%@@%%%%%%%%#@@:%**
@@@@@@@@@@@@@@@#*%@%%#%%%%%%%%%%%%%%%%%%%%#*@@#-*
*@@@@@@@@@@@@#*%%%@%%%%%%%%%%%%%%%%%%%%%%%%#*=@%+
`;

      const Data = {
        i18n: {
          es: {
            bootLines: [
              "jcsa87 Terminal OS [Versi√≥n 5.1.2600]",
              "(C) jcsa87. All rights reserved.",
              "",
              "C:\\> inicializando entorno de portafolio...",
              "C:\\> cargando m√≥dulos: about.dll stack.dll projects.dll contact.dll",
              "C:\\> configurando interfaz de terminal...",
              "C:\\> listo.",
              "",
              "Presiona cualquier tecla para continuar...",
            ],
            title: "C:\\jcsa87\\system87\\portafolio.exe",
            menuHeader: "// navegaci√≥n",
            menuItems: [
              "01. sobre_m√≠",
              "02. tecnolog√≠as",
              "03. proyectos",
              "04. contacto",
            ],
            prompt: "Haz clic en una opci√≥n.",
            consoleReady: "Sistema listo.",
            langLabel: "[ eng ]",
            themeLabel: "[ light_mode ]",
            welcomeMessage:
              "Bienvenido a jcsa87 Terminal OS.\nSelecciona una secci√≥n en el panel izquierdo para continuar.",
          },
          en: {
            bootLines: [
              "jcsa87 Terminal OS [Version 5.1.2600]",
              "(C) jcsa87. All rights reserved.",
              "",
              "C:\\> initializing portfolio environment...",
              "C:\\> loading modules: about.dll stack.dll projects.dll contact.dll",
              "C:\\> setting up terminal interface...",
              "C:\\> done.",
              "",
              "Press any key to continue...",
            ],
            title: "C:\\jcsa87\\system87\\portfolio.exe",
            menuHeader: "// navigation",
            menuItems: [
              "01. about_me",
              "02. tech_stack",
              "03. projects",
              "04. contact",
            ],
            prompt: "Click an option.",
            consoleReady: "System ready.",
            langLabel: "[ spa ]",
            themeLabel: "[ dark_mode ]",
            welcomeMessage:
              "Welcome to jcsa87 Terminal OS.\nSelect a section from the left panel to continue.",
          },
        },

        modules: {
          about: {
            es: `
C:\\portafolio> type about.txt


[ ascii_loaded: user_avatar.sys ]

<pre id="ascii-me" style="margin-bottom: 12px;">
</pre>


usuario: juan_cruz_senicen_acosta  
edad: 21  
ciudad: corrientes, argentina  
universidad: unne (lic. en sistemas de la informaci√≥n)
rol: estudiante_sistemas / dev_en_formaci√≥n  
stack: sql / mysql / sqlserver / php / c# / java / javascript / nextjs / tailwind  
enfoque: arquitectura_limpia, datos_estructurados, dise√±o_de_sistemas

experiencia:
  - sistemas_de_gestion
  - paneles_administrativos
  - autenticaci√≥n_segura
  - bases_normalizadas
  - reportes_y_m√©tricas

intereses:
  - filosof√≠a/espiritualidad
  - minimalismo
  - fitness
  - software_craftsmanship

nota:
  a√∫n descubriendo mi camino como desarrollador.
  sin orientaci√≥n cerrada (backend / frontend / web).
  comprometido con aprender y mejorar.

`,
            en: `
C:\\portfolio> type about.txt

[ ascii_loaded: user_avatar.sys ]

<pre id="ascii-me" style="margin-bottom: 12px;">
</pre>


user: juan_cruz_senicen_acosta  
age: 21  
city: corrientes, argentina  
university: unne (systems engineering undergraduate)
role: systems_student / dev_in_progress  
stack: sql / mysql / sqlserver / php / c# / java / javascript / nextjs / tailwind  
focus: clean_architecture, structured_data, full_system_design

experience:
  - management_systems
  - admin_panels
  - secure_auth
  - normalized_databases
  - reports_and_metrics

interests:
  - philosophy/spirituality
  - minimalism
  - fitness
  - software_craftsmanship

note:
  still exploring my path as a developer.
  not fixed on backend / frontend / even strict web yet.
  committed to learning and improving.
`,
          },
          stack: {
            es: `
C:\\portafolio> type stack.json

{
  "lenguajes": ["java", "c#", "php", "javascript", "sql"],
  "frontend": ["html", "css", "bootstrap", "nextjs", "tailwind"],
  "backend": ["php (codeigniter)", "c# (windows forms)", "t-sql"],
  "bases_de_datos": ["sql server", "mysql"],
  "tools": ["git", "vercel", "figma", "photoshop", "visual studio"]
}
`,
            en: `
C:\\portfolio> type stack.json

{
  "languages": ["java", "c#", "php", "javascript", "sql"],
  "frontend": ["html", "css", "bootstrap", "nextjs", "tailwind"],
  "backend": ["php (codeigniter)", "c# (windows forms)", "t-sql"],
  "databases": ["sql server", "mysql"],
  "tools": ["git", "vercel", "figma", "photoshop", "visual studio"]
}
`,
          },
          projects: {
            es: `
C:\\portafolio> dir proyectos

[ academic_projects ]
  - BaseDeDatosI_Proyecto
    dise√±o y modelado de base de datos relacional para un sistema de gesti√≥n.
  - nikeproject
    aplicaci√≥n web (php + mysql) tipo e-commerce / gesti√≥n de ventas.
  - nikeprojectdesktop
    versi√≥n escritorio (c# + sql server) con reportes, paneles y autenticaci√≥n.
  - proyectos_taller_II
    pr√°cticas y ejercicios acad√©micos en c# y windows forms.

[ personal_projects ]
  - portfolio
    este mismo terminal estilo windows xp / cmd.
  - prototipo_padel
    prototipo de sistema para reservas / gesti√≥n de p√°del.
  - misc_repos
    pruebas peque√±as, utilidades y experimentos.

c√≥digo fuente ‚Üí [github]

`,
            en: `
C:\\portfolio> dir projects

[ academic_projects ]
  - BaseDeDatosI_Proyecto
    relational database design and modeling for management systems.
  - nikeproject
    web app (php + mysql) e-commerce / sales management.
  - nikeprojectdesktop
    desktop version (c# + sql server) with panels, reports, secure auth.
  - taller_II_projects
    academic practice in c# and windows forms.

[ personal_projects ]
  - portfolio
    this cmd / windows xp‚Äìstyle terminal portfolio.
  - prototipo_padel
    reservation/management padel prototype.
  - misc_repos
    experiments, utilities, small practice.

source code ‚Üí [github]

`,
          },
          contact: {
            es: `
C:\\portafolio> net user contacto

email    : <a href="mailto:juancruzsenicenacosta@gmail.com">[email]</a>
github   : <a href="https://github.com/jcsa87" target="_blank">[github]</a>
discord  : promesasimprudentes
linkedin : <a href="https://www.linkedin.com/in/juan-cruz-senicen-acosta-a93430203/" target="_blank">[linkedin]</a>

cv       : <a href="assets/JuanCruzSenicenAcosta_CV.pdf" download>[cv]</a> (pr√≥ximamente)

`,
            en: `
C:\\portfolio> net user contact

email    : <a href="mailto:juancruzsenicenacosta@gmail.com">[email]</a>
github   : <a href="https://github.com/jcsa87" target="_blank">[github]</a>
discord  : promesasimprudentes
linkedin : <a href="https://www.linkedin.com/in/juan-cruz-senicen-acosta-a93430203/" target="_blank">[linkedin]</a>

cv       : <a href="assets/JuanCruzSenicenAcosta_CV.pdf" download>[cv]</a> (coming soon)

`,
          },
        },
      };

      /* ========= APP ========= */
      const App = {
        state: {
          lang: "en", // por defecto en ingl√©s
          theme: "dark",
          mode: "boot", // boot | yin | main
          volume: 0.15,
          skipIntro: false,
        },
        intervals: [],

        init() {
          if (keySound) keySound.volume = this.state.volume;
          this.renderBootScreen();
          this.startBootSequence();
        },

        /* --- utilities --- */
        clearTimers() {
          this.intervals.forEach((id) => clearInterval(id));
          this.intervals = [];
        },

        updateVolumeDisplay() {
          const lvlEl = document.getElementById("volume-level");
          if (lvlEl) {
            const percent = Math.round(this.state.volume * 100);
            lvlEl.textContent = percent;
          }
          if (keySound) keySound.volume = this.state.volume;
        },

        changeVolume(delta) {
          this.state.volume = Math.min(
            1,
            Math.max(0, this.state.volume + delta)
          );
          this.updateVolumeDisplay();
        },

        /* ================= BOOT ================= */
        renderBootScreen() {
          const root = document.getElementById("app-root");
          root.innerHTML = `
            <div id="boot-screen" class="screen">
              <div id="boot-output"></div>
            </div>
          `;
        },

        async startBootSequence() {
          const t = Data.i18n[this.state.lang];
          const out = document.getElementById("boot-output");
          const lines = t.bootLines;

          // tecla r√°pida para saltar boot
          window.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
              this.toYinScreen();
            }
          });

          const skipBoot = () => {
            window.removeEventListener("click", skipBoot);
            window.removeEventListener("keydown", skipBoot);
            this.toYinScreen();
          };

          window.addEventListener("click", skipBoot);
          window.addEventListener("keydown", skipBoot);

          out.textContent = "";

          for (let i = 0; i < lines.length - 1; i++) {
            await this.typeLine(out, lines[i] + "\n", 35);
          }

          // last line ("press any key...")
          const last = lines[lines.length - 1];
          const lineSpan = document.createElement("span");
          out.appendChild(lineSpan);
          await this.typeLine(lineSpan, last, 25);

          const blinkSpan = document.createElement("span");
          blinkSpan.className = "blink";
          blinkSpan.textContent = "_";
          out.appendChild(blinkSpan);

          const handler = () => {
            window.removeEventListener("keydown", handler);
            this.toYinScreen();
          };
          window.addEventListener("keydown", handler);
        },

        typeLine(element, text, speed) {
          return new Promise((resolve) => {
            let i = 0;
            const id = setInterval(() => {
              element.textContent += text[i];

              if (text[i] !== " ") playKey();

              i++;
              if (i >= text.length) {
                clearInterval(id);
                resolve();
              }
            }, speed);
            this.intervals.push(id);
          });
        },

        /* ================= YIN SCREEN ================= */
        skipYin() {
          if (this.state.mode !== "yin") return;
          this.state.skipIntro = true;
          this.toMainScreen();
        },

        toYinScreen() {
          this.clearTimers();
          this.state.mode = "yin";
          this.state.skipIntro = false;

          const root = document.getElementById("app-root");
          const t = Data.i18n[this.state.lang];
          root.innerHTML = `
            <div id="yin-screen" class="screen">
              <div id="yin-art" class="yin-art"></div>
              <div id="yin-hint" style="opacity:0;"></div>
            </div>
          `;

          const artEl = document.getElementById("yin-art");
          this.typeYinArt(artEl, 10);

          // cualquier click o ENTER saltea la intro
          root.addEventListener("click", () => this.skipYin());
          window.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              this.skipYin();
            }
          });
        },

        async typeYinArt(element, speed) {
          const lines = YINYANG_ART.split("\n");
          element.innerHTML = "";

          for (let i = 0; i < lines.length; i++) {
            if (this.state.skipIntro) return;

            const safe = lines[i]
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/ /g, "&nbsp;");

            element.innerHTML += safe + "<br>";
            playKey();

            if (speed > 0) await new Promise((r) => setTimeout(r, speed));
          }

          const hintEl = document.getElementById("yin-hint");
          if (hintEl) {
            const hintText =
              App.state.lang === "es"
                ? "[ENTER] para iniciar el sistema"
                : "[ENTER] to start the system";

            hintEl.textContent = hintText;
            hintEl.style.opacity = 1;
            hintEl.style.animation = "hintGlitch 0.45s linear";
          }

          // üëâ ESTA L√çNEA FALTABA Y CAUSABA EL LOOP
          window.addEventListener("keydown", function startMain(e) {
            if (e.key === "Enter") {
              window.removeEventListener("keydown", startMain);
              App.toMainScreen();
            }
          });
        },
        /* ================= MAIN TERMINAL ================= */
        toMainScreen() {
          this.clearTimers();
          this.state.mode = "main";

          const root = document.getElementById("app-root");
          const t = Data.i18n[this.state.lang];

          root.innerHTML = `
            <div id="main-screen" class="screen">
              <div class="term-titlebar">
                <span>${t.title}</span>
                <span>- cmd_portfolio</span>
              </div>
              <div class="term-body">
                <section class="pane">
                  <div class="pane-header">${t.menuHeader}</div>
                  <div id="menu-body" class="pane-body"></div>
                </section>
                <section class="pane">
                  <div class="pane-header">// display</div>
                  <div id="content-body" class="pane-body"></div>
                </section>
              </div>
              <div class="term-footer">
                <span id="device-info"></span>
                <span>
                  <span id="volume-control">
                    <span id="vol-down" class="vol-btn">[v-]</span>
                    &nbsp;<span id="volume-level">15</span> %&nbsp;
                    <span id="vol-up" class="vol-btn">[v+]</span>
                  </span>
                  <span id="lang-toggle">${t.langLabel}</span>
                  &nbsp;
                  <span id="theme-toggle">${t.themeLabel}</span>
                </span>
              </div>
            </div>
          `;

          refreshDeviceInfoDom();
          this.renderMenu();
          this.attachFooterEvents();
          this.setWelcomeMessage();
        },

        renderMenu() {
          const t = Data.i18n[this.state.lang];
          const body = document.getElementById("menu-body");
          if (!body) return;

          let html = "";
          t.menuItems.forEach((label, idx) => {
            const key =
              idx === 0
                ? "about"
                : idx === 1
                ? "stack"
                : idx === 2
                ? "projects"
                : "contact";
            html += `<button class="menu-item-btn" onclick="App.loadModule('${key}')">${label}</button>`;
          });

          html += `\n\n${t.prompt}\n`;

          body.innerHTML = html;
        },

        setWelcomeMessage() {
          const t = Data.i18n[this.state.lang];
          const out = document.getElementById("content-body");
          if (!out) return;
          const msg = "\n" + t.welcomeMessage + "\n";
          this.typeHTML(out, msg, 2);
        },

        attachFooterEvents() {
          const langToggle = document.getElementById("lang-toggle");
          const themeToggle = document.getElementById("theme-toggle");
          const volDown = document.getElementById("vol-down");
          const volUp = document.getElementById("vol-up");

          if (langToggle) {
            langToggle.onclick = () => {
              this.state.lang = this.state.lang === "es" ? "en" : "es";
              this.toMainScreen();
            };
          }

          if (themeToggle) {
            themeToggle.onclick = () => {
              this.toggleTheme();
            };
          }

          if (volDown && volUp) {
            volDown.onclick = () => this.changeVolume(-0.05);
            volUp.onclick = () => this.changeVolume(0.05);
            this.updateVolumeDisplay();
          }
        },

        toggleTheme() {
          if (this.state.theme === "dark") {
            document.body.style.backgroundColor = "#e6e6e6";
            document.body.style.color = "#000";
            this.state.theme = "light";
          } else {
            document.body.style.backgroundColor = "#000";
            document.body.style.color = "#f5f5f5";
            this.state.theme = "dark";
          }
        },

        /* --- modules --- */
        loadModule(key) {
          const mod = Data.modules[key];
          const t = mod ? mod[this.state.lang] : "";
          const out = document.getElementById("content-body");
          if (!out) return;

          // --- FIX: el m√≥dulo "about" NO pasa por typeHTML ---
          if (key === "about") {
            out.innerHTML = t; // render directo sin efectos
            this.injectASCII(); // carga ASCII sin interferencias
            return;
          }

          // otros m√≥dulos siguen usando typing normal
          this.typeHTML(out, t, 3);
        },
        typeHTML(element, html, speed) {
          return new Promise((resolve) => {
            element.innerHTML = "";
            const cursor = document.createElement("span");
            cursor.className = "typing-cursor";
            element.appendChild(cursor);

            // Detectar <a ...>...</a> como un solo bloque
            const parts = [];
            const linkRegex = /<a[\s\S]*?<\/a>/gi;
            let lastIndex = 0;
            let match;

            while ((match = linkRegex.exec(html)) !== null) {
              if (match.index > lastIndex) {
                parts.push(html.substring(lastIndex, match.index));
              }
              parts.push(match[0]); // el link entero
              lastIndex = match.index + match[0].length;
            }

            if (lastIndex < html.length) {
              parts.push(html.substring(lastIndex));
            }

            let idx = 0;

            const typeNext = () => {
              if (idx >= parts.length) {
                cursor.remove();
                resolve();
                return;
              }

              const part = parts[idx++];

              // Si es un <a ...>...</a>, insertar sin tipeo
              if (part.startsWith("<a")) {
                cursor.insertAdjacentHTML("beforebegin", part);
                typeNext();
                return;
              }

              // Tipo "normal" de texto con glitch
              let i = 0;
              const id = setInterval(() => {
                const c = part[i];
                const out =
                  Math.random() < 0.02 && c !== " "
                    ? `<span class="glitch-char">${c}</span>`
                    : c;

                cursor.insertAdjacentHTML("beforebegin", out);

                if (c !== " ") playKey();

                i++;
                if (i >= part.length) {
                  clearInterval(id);
                  typeNext();
                }
              }, speed);

              App.intervals.push(id);
            };

            typeNext();
          });
        },

        injectASCII() {
          const asciiEl = document.getElementById("ascii-me");
          if (!asciiEl) return;
          asciiEl.textContent = "";
          const lines = ASCII_ME.split("\n");
          let i = 0;
          const id = setInterval(() => {
            if (i >= lines.length) {
              clearInterval(id);
              return;
            }
            asciiEl.textContent += lines[i] + "\n";
            playKey();
            i++;
          }, 8);
          this.intervals.push(id);
        },
      };

      /* ========= INACTIVIDAD (60s) ========= */
      let lastActivity = Date.now();
      const INACTIVITY_LIMIT = 60000;

      function resetActivity() {
        lastActivity = Date.now();
      }

      ["mousemove", "keydown", "click", "touchstart"].forEach((ev) =>
        window.addEventListener(ev, resetActivity)
      );

      setInterval(() => {
        if (Date.now() - lastActivity > INACTIVITY_LIMIT) {
          if (App.state.mode === "main") {
            App.toYinScreen();
          }
          lastActivity = Date.now();
        }
      }, 1000);

      window.App = App;
      window.onload = () => App.init();

      window.addEventListener(
        "click",
        () => {
          keySound.volume = App.state.volume;
          keySound.play().catch(() => {});
        },
        { once: true }
      );
    </script>
  </body>
</html>

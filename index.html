<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>~/terminal</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg-color: #050505;
        --text-main: #e0e0e0;
        --text-dim: #666666;
        --alg-green: #00d26a;
        --alg-red: #ff0038;
        --border-style: 2px dashed var(--alg-green);
        --cursor: var(--alg-red);
      }

      body.light-mode {
        --bg-color: #e6e6e6;
        --text-main: #111111;
        --text-dim: #888888;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: "IBM Plex Mono", monospace;
        display: flex;
        height: 100vh;
        overflow: hidden;
        text-transform: lowercase;
      }

      /* CRT overlays */
      .scanlines {
        position: fixed;
        inset: 0;
        pointer-events: none;
        background: repeating-linear-gradient(
          to bottom,
          rgba(255, 255, 255, 0) 0px,
          rgba(255, 255, 255, 0) 2px,
          rgba(0, 0, 0, 0.12) 3px
        );
        z-index: 9999;
        opacity: 0.5;
      }

      .noise-overlay {
        position: fixed;
        inset: 0;
        pointer-events: none;
        opacity: 0.03;
        z-index: 9998;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      }

      /* Layout */
      .sidebar {
        width: 300px;
        padding: 40px;
        border-right: var(--border-style);
        overflow: hidden;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .sidebar-right {
        border-right: none;
        border-left: var(--border-style);
      }

      .main-content {
        flex: 1;
        padding: 40px;
        overflow-y: auto;
      }

      #terminal-output {
        max-width: 900px;
        margin: 0 auto;
        line-height: 1.4;
        overflow-y: auto;
        min-height: 100%;
      }

      /* Intro */
      .centered {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .intro-wrapper {
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 40px;
        margin-top: 40px;
      }

      .phi-art {
        font-size: 14px;
        line-height: 14px;
        font-weight: 900;
        white-space: pre;
        cursor: pointer;
        text-align: center;
        transform: scale(1.5);
      }

      .controls-container {
        display: flex;
        gap: 30px;
        justify-content: center;
        font-size: 14px;
        color: var(--text-dim);
      }

      .toggle-btn {
        background: none;
        border: none;
        color: var(--text-dim);
        cursor: pointer;
        font-family: inherit;
        font-size: inherit;
      }

      .toggle-btn:hover {
        color: var(--alg-green);
        text-shadow: 0 0 5px var(--alg-green);
      }

      /* headers */
      .ascii-header {
        color: var(--alg-green);
        font-weight: 600;
        margin-bottom: 12px;
        white-space: pre;
      }

      button.nav-btn {
        background: none;
        border: none;
        color: var(--text-dim);
        font-family: inherit;
        font-size: 15px;
        cursor: pointer;
        margin-bottom: 10px;
        text-align: left;
        width: 100%;
      }

      button.nav-btn:hover {
        color: var(--text-main);
      }

      /* typewriter cursor */
      .typing-cursor {
        display: inline-block;
        width: 8px;
        height: 1em;
        background-color: var(--cursor);
        animation: blink 0.5s infinite;
        vertical-align: bottom;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.1;
        }
      }

      /* glitch chars */
      .glitch-char {
        animation: glitch 0.15s linear alternate;
      }

      @keyframes glitch {
        0% {
          opacity: 0.2;
          transform: translateX(-1px);
        }
        100% {
          opacity: 1;
          transform: translateX(1px);
        }
      }

      pre {
        font-family: "IBM Plex Mono", monospace;
        font-size: 10px;
        line-height: 1.05;
        white-space: pre;
      }

      a {
        color: var(--alg-green);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }

      /* Φ logo fijo pequeño */
      #phi-logo-fixed {
        position: fixed;
        top: 16px;
        left: 18px;
        z-index: 12000;
        font-size: 8px;
        line-height: 8px;
        white-space: pre;
        opacity: 0.75;
        text-shadow: 0 0 6px var(--alg-green);
        pointer-events: none;
        display: none;
      }

      @media (max-width: 900px) {
        body {
          flex-direction: column;
          height: auto;
        }
        .sidebar {
          width: 100%;
          border-right: none;
          border-left: none;
          border-bottom: var(--border-style);
        }
        .sidebar-right {
          border-top: var(--border-style);
          border-left: none;
        }
      }
    </style>
  </head>

  <body>
    <div class="scanlines"></div>
    <div class="noise-overlay"></div>

    <div id="phi-logo-fixed"></div>

    <aside class="sidebar sidebar-left" id="sb-left"></aside>

    <main class="main-content">
      <div id="terminal-output" class="centered"></div>
    </main>

    <aside class="sidebar sidebar-right" id="sb-right"></aside>

    <script>
      /* ========== ASCII AUTO-PORTRAIT (TU CARA) ========== */
      const ASCII_ME = String.raw`
.....................................................................................................
..............................=*##*****+=-..........................................................
...........................=*###%***#***##*+**:.....................................................
........................:#%###%%%#**#**#%#*#%##%%*-.................................................
......................=#%%%%%%###%%####***#%#%%##%%#-...............................................
.....................#%@@@%#%%%%####%%%#***+*%%@@%%%%%*.............................................
...................:%@@%%%%%%%%%%%%%%#%%##*++*######%%%#............................................
..................:%%@@%%%@@@@@@@@@%%%%*+*%%#******###%%:...........................................
..................%%%@%%@@@@@@@@@@@%%#%#**=*#%%%%%%%#%%%*...........................................
.................+%%%@@@@@@@@@@@@%%%%%#%##******#%***%@%#-..........................................
.................%%%%@@@@@@@@@@@@@@@%%%**+***+++++#*+*##%#..........................................
................-%%%@@@@@@@@@@@@@@@%%#++====-----=**##**##..........................................
................-%%%@@%%%@@@@@@@@@%#++==---::::---+*#%#**+..........................................
................=%%%@%%####%%%%##*****+--:::::::---*##***:..........................................
.................%%%%#########****+==-----------:---=*++#-..........................................
.................=%%#**#######***+**+=+*#%##**+--:---+++*:..........................................
..................%%**%%%%%%%%##*****++*****=---=----+++*...........................................
..................=%**############*++***#####+===----++----.........................................
...................%***##%%%%%%%%#=-:=*#%##*+--:-::--==--+=.........................................
...................#*#####%%#%%%#*--::---+**=---::------:==.........................................
...................#**###########*--::::--------::----:+=::.........................................
...................#**##########+=---::-=*+===--:::-----=-..........................................
...................+**####**####*==---:::=##***=--------:-..........................................
....................#*##*++######**+==+==-*####*+-----::::..........................................
....................#*#############**#*=-::-*###*=----=--...........................................
....................-**##############+-----:-*###=----..............................................
.....................****###########**++**#%%%##*=----..............................................
......................+#**##%@%#####*++---+---*#+----:..............................................
......................-*#*###%%%##*+=-+=-::----=----::..............................................
.......................-*#########*++++==-------==--::..............................................
........................-##########*****=--------=-:::..............................................
..........................############+=----:---=--:::..............................................
...........................*#######+----::::---==--::::.............................................
............................*#####*+===------++=---::::::.:.........................................
............................+########***++=+*=-----:::::::++++++-:..................................
............................:############**=-------::::::+**++++++++++==-...........................
.............................*#########**+----------::::***+++++++++++++++++++-.....................
............................-*########**+==--==-------+***++++++++++************++++=--.............
.........................+++**#########***+=====----+****+++++++++********************+++-..........
.....................:#%%#***#######*******+++==-=*****++++++++++***********************+++=........
....................+%%%@%#**#######************#***++++++++++***************************++++-......
...............:%%%#@%%%@@@%##########****#####******+++++********************************+++++.....
.............+%%%%%@%%%%%%@@@@@@@@@@%#########***************************#******#***********++++....
.........=#%%%%%%%%%%%%%%%%%%@@@@%####***********************************##*****#%***********++++...
......=%%%@@%%%%%%%%%%@@@@@@@@@#*****************************************##*+***%%*************+++..
.....%@@@@@@@@@@@@@@@@@@@@@@%#######***************************************%%**#%%**#***********++-.
....%@@@@@@@@@@@@@@@@@@@@@@#########****************************************%@**%@**#*************+:
...+@@@@@@@@@@@@@@@@@@@@@############****************************************#@##@##*************#*=
...%@@@@@@@@@@@@@@@@@@@%################**#************************************@#%#%**######*****##*
...@@@@@@@@@@@@@@@@@@%######################***********************************#@*#%**########***###
..:@@@@@@@@@@@@@@@@%###########################*********************************@%#@**#########**###
..-@@@@@@@@@@@@@@%##############################********************************%@%@#*#%%######**##%
..=@@@@@@@@@@@@@%###########**###################*********
`;

      /* ========== Φ MAPS ========== */

      // Φ grande (intro) estilo "sacred geometry" pero con noise
      const phiBigMap = [
        "........OOOOOOOOOOO........",
        ".....OOO.........OOO.......",
        "...OO...............OO.....",
        "..O.................O......",
        ".O......IIIIIIIII....O.....",
        "O.......IIIIIIIII.....O....",
        "O.......IIIIIIIII.....O....",
        ".O......IIIIIIIII....O.....",
        "..O.................O......",
        "...OO...............OO.....",
        ".....OOO.........OOO.......",
        "........OOOOOOOOOOO........",
      ];

      // Φ chico logo fijo
      const phiLogoSmallMap = [
        "..OOOOOOO..",
        ".OO.....OO.",
        "O.........O",
        "O...III...O",
        "O...III...O",
        "O...III...O",
        "O.........O",
        ".OO.....OO.",
        "..OOOOOOO..",
      ];

      const noiseChars = [".", ":", "*", "`", "-", "="];

      /* ========== DATA (TEXTOS) ========== */

      const Data = {
        i18n: {
          en: {
            nav_h: "// navigation",
            sys_h: "// system_info",
            debug_h: "// debug_console",
            mem_h: "// heap_memory",
            opts: {
              about: "01. about_me",
              stack: "02. tech_stack",
              proj: "03. projects",
              contact: "04. contact",
              back: "[ return_home ]",
            },
            sys: {
              user: "user:",
              status: "status:",
              val: "online",
              uptime: "uptime:",
            },
          },
          es: {
            nav_h: "// navegación",
            sys_h: "// info_sistema",
            debug_h: "// consola_debug",
            mem_h: "// memoria_heap",
            opts: {
              about: "01. sobre_mí",
              stack: "02. tecnologías",
              proj: "03. proyectos",
              contact: "04. contacto",
              back: "[ volver_inicio ]",
            },
            sys: {
              user: "usuario:",
              status: "estado:",
              val: "en línea",
              uptime: "tiempo:",
            },
          },
        },

        modules: {
          about: {
            en: `
<p><span style="color:var(--alg-green)">>></span> cat bio.txt</p>
<pre id="ascii-me"></pre>

<br>

<p><span style="color:var(--alg-green)">>></span> cat bio_info.txt</p>
<pre id="ascii-bio">
systems engineering student.
obsessed with clean architecture.
data-flow oriented mindset.
</pre>
            `,
            es: `
<p><span style="color:var(--alg-green)">>></span> cat bio.txt</p>
<pre id="ascii-me"></pre>

<br>

<p><span style="color:var(--alg-green)">>></span> cat bio_info.txt</p>
<pre id="ascii-bio">
estudiante de ingeniería en sistemas.
obsesionado con la arquitectura limpia.
orientado al flujo de datos y la eficiencia.
</pre>
            `,
          },

          stack: {
            en: `<pre>{ "core": ["java","python","sql"], "paradigm": "ACID / REST" }</pre>`,
            es: `<pre>{ "núcleo": ["java","python","sql"], "paradigma": "ACID / REST" }</pre>`,
          },

          projects: {
            en: `
<strong>[ transaction_manager ]</strong>
<p>sql concurrency control engine.</p><br>

<strong>[ stats_engine ]</strong>
<p>python-based distributions and statistics.</p>
            `,
            es: `
<strong>[ gestor_transacciones ]</strong>
<p>motor de concurrencia sql.</p><br>

<strong>[ motor_estadístico ]</strong>
<p>modelos y distribuciones estadísticas.</p>
            `,
          },

          contact: {
            en: `
email: <a href="mailto:mail@me.com">mail@me.com</a><br>
github: <a href="https://github.com/usuario" target="_blank">@usuario</a>
            `,
            es: `
email: <a href="mailto:mail@me.com">mail@me.com</a><br>
github: <a href="https://github.com/usuario" target="_blank">@usuario</a>
            `,
          },
        },
      };

      /* ========== APP CORE ========== */

      const App = {
        state: {
          lang: "es",
          theme: "dark",
          booted: false,
          uptime: 0,
        },
        intervals: [],
        audioCtx: null,
        audioEnabled: false,

        init() {
          this.renderIntro();
          this.startPhiIntroLoop();
          this.setupAudio();
          setInterval(() => {
            if (this.state.booted) {
              this.state.uptime++;
              const el = document.getElementById("uptime");
              if (el) el.textContent = this.state.uptime + "s";
            }
          }, 1000);
        },

        /* ---------- AUDIO ---------- */
        setupAudio() {
          const unlock = () => {
            if (this.audioEnabled) return;
            try {
              this.audioCtx = new (window.AudioContext ||
                window.webkitAudioContext)();
              this.audioEnabled = true;
            } catch (e) {
              this.audioEnabled = false;
            }
            document.removeEventListener("click", unlock);
          };
          document.addEventListener("click", unlock, { once: true });
        },

        playKeySound() {
          if (!this.audioEnabled || !this.audioCtx) return;
          const ctx = this.audioCtx;
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          const now = ctx.currentTime;
          const freq = 260 + Math.random() * 140;
          osc.type = "triangle";
          osc.frequency.setValueAtTime(freq, now);
          gain.gain.setValueAtTime(0.04, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
          osc.connect(gain);
          gain.connect(ctx.destination);
          osc.start(now);
          osc.stop(now + 0.06);
        },

        /* ---------- INTRO ---------- */
        renderIntro() {
          const out = document.getElementById("terminal-output");
          out.classList.add("centered");
          const langBtn = this.state.lang === "en" ? "[ spa ]" : "[ eng ]";
          const themeBtn =
            this.state.theme === "dark" ? "[ light_mode ]" : "[ dark_mode ]";

          out.innerHTML = `
            <div class="intro-wrapper">
              <div id="phi-art" class="phi-art" onclick="App.bootSystem()"></div>
              <div class="controls-container">
                <button class="toggle-btn" onclick="App.toggleLang()">${langBtn}</button>
                <button class="toggle-btn" onclick="App.toggleTheme()">${themeBtn}</button>
              </div>
            </div>
          `;
        },

        startPhiIntroLoop() {
          const id = setInterval(() => this.updatePhiIntroFrame(), 120);
          this.intervals.push(id);
        },

        updatePhiIntroFrame() {
          const target = document.getElementById("phi-art");
          if (!target) return;
          let html = "";
          phiBigMap.forEach((row) => {
            let line = "";
            for (let c of row) {
              if (c === "O") {
                line += `<span style="color:var(--alg-green);text-shadow:0 0 8px var(--alg-green)">█</span>`;
              } else if (c === "I") {
                const glow =
                  Math.random() < 0.5 ? "var(--alg-green)" : "var(--alg-red)";
                line += `<span style="color:${glow};text-shadow:0 0 8px ${glow}">█</span>`;
              } else {
                const useNoise = Math.random() < 0.12;
                if (useNoise) {
                  const n =
                    noiseChars[Math.floor(Math.random() * noiseChars.length)];
                  line += `<span style="color:var(--text-dim);opacity:.6">${n}</span>`;
                } else {
                  line += "&nbsp;";
                }
              }
            }
            html += line + "<br>";
          });
          target.innerHTML = html;
        },

        clearIntervals() {
          this.intervals.forEach((id) => clearInterval(id));
          this.intervals = [];
        },

        /* ---------- BOOT ---------- */
        bootSystem() {
          if (this.state.booted) return;
          this.clearIntervals();
          this.state.booted = true;
          this.state.uptime = 0;

          const out = document.getElementById("terminal-output");
          out.classList.remove("centered");
          out.innerHTML = "";

          const sbLeft = document.getElementById("sb-left");
          const sbRight = document.getElementById("sb-right");
          sbLeft.innerHTML = "";
          sbRight.innerHTML = "";
          sbLeft.style.opacity = "1";
          sbRight.style.opacity = "1";

          const t = Data.i18n[this.state.lang];

          const leftHTML = `
<div class="ascii-header">${t.nav_h}</div>
<nav class="corruptible-block">
  <button class="nav-btn" onclick="App.loadModule('about')">${t.opts.about}</button>
  <button class="nav-btn" onclick="App.loadModule('stack')">${t.opts.stack}</button>
  <button class="nav-btn" onclick="App.loadModule('projects')">${t.opts.proj}</button>
  <button class="nav-btn" onclick="App.loadModule('contact')">${t.opts.contact}</button>
  <br>
  <button class="nav-btn" onclick="App.resetToIntro()">${t.opts.back}</button>
</nav>
          `;

          const rightHTML = `
<div class="ascii-header">${t.sys_h}</div>
<div class="corruptible-block">
  ${t.sys.user} guest<br>
  ${t.sys.status} <span style="color:var(--alg-green)">${t.sys.val}</span><br>
  ${t.sys.uptime} <span id="uptime">0s</span>
</div>
<br>
<div class="ascii-header">${t.mem_h}</div>
<div id="heap-dump" style="font-size:11px;color:var(--alg-green);opacity:.7;"></div>
<br>
<div class="ascii-header">${t.debug_h}</div>
<div id="debug-log" style="font-size:11px;max-height:160px;overflow:hidden;"></div>
          `;

          // sidebars
          this.typeHTML(sbLeft, leftHTML, 2);
          this.typeHTML(sbRight, rightHTML, 2).then(() => {
            this.startHeapDump();
          });

          // boot log
          const bootLog =
            this.state.lang === "en"
              ? `
<span style="color:var(--alg-green)">> starting system...</span>
loading kernel modules [ ok ]
initializing runtime environment [ ok ]
checking memory map [ ok ]
mounting root filesystem [ ok ]
starting user-session [ ok ]

<span style="color:var(--alg-green)">system ready.</span>
          `
              : `
<span style="color:var(--alg-green)">> starting system...</span>
cargando módulos del kernel [ ok ]
inicializando entorno de ejecución [ ok ]
verificando mapa de memoria [ ok ]
montando sistema de archivos raíz [ ok ]
iniciando sesión de usuario [ ok ]

<span style="color:var(--alg-green)">system ready.</span>
          `;

          this.typeHTML(out, bootLog, 8).then(() => {
            this.logEvent("SYSTEM_READY");
            setTimeout(() => this.loadModule("about"), 400);
          });

          // mostrar logo Φ pequeño
          const logo = document.getElementById("phi-logo-fixed");
          logo.style.display = "block";
          this.startPhiLogoLoop();
        },

        resetToIntro() {
          this.clearIntervals();
          this.state.booted = false;
          const sbLeft = document.getElementById("sb-left");
          const sbRight = document.getElementById("sb-right");
          sbLeft.style.opacity = "0";
          sbRight.style.opacity = "0";
          sbLeft.innerHTML = "";
          sbRight.innerHTML = "";

          const logo = document.getElementById("phi-logo-fixed");
          logo.style.display = "none";
          logo.innerHTML = "";

          const out = document.getElementById("terminal-output");
          out.innerHTML = "";
          out.classList.add("centered");
          this.renderIntro();
          this.startPhiIntroLoop();
        },

        /* ---------- TYPEWRITER ---------- */
        async typeHTML(element, html, speed) {
          return new Promise(async (resolve) => {
            element.innerHTML = "";
            const cursor = document.createElement("span");
            cursor.className = "typing-cursor";
            element.appendChild(cursor);

            const parts = html.split(/(<[^>]+>)/g).filter((p) => p !== "");

            for (let part of parts) {
              if (part.startsWith("<") && part.endsWith(">")) {
                cursor.insertAdjacentHTML("beforebegin", part);
              } else {
                for (let c of part) {
                  const useGlitch = Math.random() < 0.02 && c !== " ";
                  const chunk = useGlitch
                    ? `<span class="glitch-char">${c}</span>`
                    : c;

                  cursor.insertAdjacentHTML("beforebegin", chunk);
                  this.playKeySound();
                  await new Promise((r) => setTimeout(r, speed));
                }
              }
            }
            cursor.remove();
            resolve(true);
          });
        },

        /* ---------- MODULES ---------- */
        loadModule(key) {
          const out = document.getElementById("terminal-output");
          const content = Data.modules[key][this.state.lang];
          this.typeHTML(out, content, 4).then(() => {
            if (key === "about") this.injectASCII();
            this.logEvent(`MODULE_LOAD: ${key.toUpperCase()}`);
          });
        },

        injectASCII() {
          const asciiEl = document.getElementById("ascii-me");
          if (!asciiEl) return;
          asciiEl.textContent = "";
          const lines = ASCII_ME.split("\n");
          let i = 0;
          const interval = setInterval(() => {
            if (i >= lines.length) {
              clearInterval(interval);
              return;
            }
            asciiEl.textContent += lines[i] + "\n";
            i++;
          }, 8);
          this.intervals.push(interval);
        },

        /* ---------- HEAP + LOG ---------- */
        startHeapDump() {
          const el = document.getElementById("heap-dump");
          if (!el) return;
          const gen = () => {
            const addr =
              "0x" +
              Math.floor(Math.random() * 65535)
                .toString(16)
                .toUpperCase()
                .padStart(4, "0");
            const bytes = Array.from({ length: 4 }, () =>
              Math.floor(Math.random() * 255)
                .toString(16)
                .toUpperCase()
                .padStart(2, "0")
            ).join(" ");
            return `${addr} : ${bytes}`;
          };
          el.innerHTML = "";
          for (let i = 0; i < 6; i++) {
            const d = document.createElement("div");
            d.textContent = gen();
            el.appendChild(d);
          }
          const id = setInterval(() => {
            if (!el.children.length) return;
            const r = Math.floor(Math.random() * el.children.length);
            el.children[r].textContent = gen();
          }, 180);
          this.intervals.push(id);
        },

        logEvent(msg) {
          const logContainer = document.getElementById("debug-log");
          if (!logContainer) return;
          const time = new Date()
            .toLocaleTimeString("en-US", { hour12: false })
            .split(" ")[0];
          const entry = document.createElement("div");
          entry.textContent = `[${time}] ${msg}`;
          logContainer.prepend(entry);
          if (logContainer.children.length > 8) {
            logContainer.lastChild.remove();
          }
        },

        /* ---------- Φ LOGO PEQUEÑO ---------- */
        startPhiLogoLoop() {
          const id = setInterval(() => {
            const target = document.getElementById("phi-logo-fixed");
            if (!target) return;
            let html = "";
            phiLogoSmallMap.forEach((row) => {
              let line = "";
              for (let c of row) {
                if (c === "O" || c === "I") {
                  line += `<span style="color:var(--alg-green)">█</span>`;
                } else {
                  line += "&nbsp;";
                }
              }
              html += line + "<br>";
            });
            target.innerHTML = html;
          }, 220);
          this.intervals.push(id);
        },

        /* ---------- TOGGLES ---------- */
        toggleLang() {
          this.state.lang = this.state.lang === "en" ? "es" : "en";
          if (this.state.booted) {
            this.bootSystem();
          } else {
            this.renderIntro();
          }
        },

        toggleTheme() {
          this.state.theme = this.state.theme === "dark" ? "light" : "dark";
          document.body.classList.toggle("light-mode");
          if (!this.state.booted) this.renderIntro();
        },
      };

      window.onload = () => App.init();
    </script>
  </body>
</html>

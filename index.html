<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>cmd_portfolio.exe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      :root {
        --bg-color: #000000;
        --text-main: #f5f5f5;
        --text-dim: #aaaaaa;
        --accent-green: #00ff00;
        --accent-blue: #00a2ff;
        --cursor: #ffffff;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: "Lucida Console", "Consolas", "Courier New", monospace;
        overflow: hidden;
      }

      /* --- screens root --- */
      #app-root {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 16px;
      }

      .screen {
        width: 100%;
        height: 100%;
        max-width: 1100px;
        max-height: 650px;
        margin: 0 auto;
      }

      /* ===== BOOT SCREEN ===== */
      #boot-screen {
        border: 2px solid var(--accent-blue);
        background: #000;
        padding: 12px 16px;
        overflow: hidden;
      }

      #boot-output {
        font-size: 13px;
        line-height: 1.35;
        white-space: pre-wrap;
      }

      .blink {
        animation: blink 1s steps(2, start) infinite;
      }

      @keyframes blink {
        0%,
        50% {
          opacity: 1;
        }
        50.01%,
        100% {
          opacity: 0;
        }
      }

      /* ===== YIN INTRO ===== */
      #yin-screen {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 2px solid var(--accent-blue);
        background: #000;
        padding: 24px;
        text-align: center;
      }

      .yin-art {
        font-size: 11px;
        line-height: 11px;
        white-space: pre;
        cursor: pointer;
        margin-bottom: 16px;
      }

      #yin-hint {
        margin-top: 12px;
        font-size: 13px;
        color: var(--text-dim);
      }

      .glitch-char {
        animation: glitch 0.15s linear alternate;
      }

      @keyframes glitch {
        0% {
          opacity: 0.2;
          transform: translateX(-1px);
        }
        100% {
          opacity: 1;
          transform: translateX(1px);
        }
      }

      /* ===== MAIN TERMINAL ===== */
      #main-screen {
        display: flex;
        flex-direction: column;
        border: 2px solid var(--accent-blue);
        background: #000;
      }

      .term-titlebar {
        background: #000080;
        color: #f5f5f5;
        padding: 4px 8px;
        font-size: 13px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .term-titlebar span {
        white-space: nowrap;
      }

      .term-body {
        flex: 1;
        border-top: 1px solid #003399;
        padding: 8px 10px;
        display: grid;
        grid-template-columns: 260px 1fr;
        gap: 8px;
        overflow: hidden;
      }

      .pane {
        border: 1px solid #004000;
        padding: 6px 7px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        background: #000;
      }

      .pane-header {
        font-size: 12px;
        color: var(--accent-green);
        margin-bottom: 4px;
      }

      .pane-body {
        font-size: 13px;
        color: var(--text-main);
        flex: 1;
        overflow-y: auto;
        line-height: 1.35;
        white-space: pre-wrap;
      }

      /* left menu */
      #menu-body {
        font-size: 13px;
      }

      .menu-item-btn {
        background: transparent;
        border: none;
        color: inherit;
        font: inherit;
        text-align: left;
        padding: 0;
        cursor: pointer;
      }

      .menu-item-btn:hover {
        color: var(--accent-green);
      }

      #prompt-line {
        margin-top: 10px;
        color: var(--accent-green);
      }

      .prompt-path {
        color: var(--text-main);
      }

      /* right content */
      #content-body {
        font-size: 13px;
      }

      .typing-cursor {
        display: inline-block;
        width: 8px;
        height: 1em;
        background-color: var(--cursor);
        animation: blink 0.6s steps(2, start) infinite;
        vertical-align: bottom;
      }

      pre {
        font-family: inherit;
        font-size: 12px;
        white-space: pre;
      }

      a {
        color: var(--accent-green);
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      /* bottom console bar */
      .term-footer {
        border-top: 1px solid #003399;
        padding: 4px 8px;
        font-size: 11px;
        color: var(--text-dim);
        display: flex;
        justify-content: space-between;
      }

      #console-log {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      #lang-toggle,
      #theme-toggle {
        cursor: pointer;
      }

      @media (max-width: 900px) {
        .term-body {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto;
        }
      }
    </style>
  </head>

  <body>
    <div id="app-root"></div>

    <script>
      /* ========= CONSTANT ASCII ART ========= */
      const YINYANG_ART = String.raw`
                           __....__
                       .gd$$$$$$$$$$bp.
                    .-"^^^T$$$$$$$$$$$$$p.
                  .'       "^T$$$$$$$$$$$$b.
                .'            \`T$$$$$$$$$$$$b.
               /     .d$$b.     T$$$$$$$$$$$$$b
              /     d$$$$$$b     $$$$$$$$$$$$$$b
             :     :$$$$$$$$;    :$$$$$$$$$$$$$$;
             ;      T$$$$$$P     :$$$$$$$$$$$$$$$
            :        "^$$^"      $$$$$$$$$$$$$$$$;
            ;                   d$$$$$$$$$$$$$$$$$
            |                 .d$$$$$$$$$$$$$$$$$$
            ;                d$$$$$$$$$$$$$$$$$$$$
            :               :$$$$$$P^""^T$$$$$$$$;
             ;              $$$$$$P      T$$$$$$$
             :              $$$$$$        $$$$$$;
              \             :$$$$$b      d$$$$$P
               \             T$$$$$bp..gd$$$$$P
                \`.            \`T$$$$$$$$$$$$P'
                  \`.            "^$$$$$$$$P'
                    "-.            "^^T$P'
                       "--...____...--"
`;

      const ASCII_ME = String.raw`
                        .....................................................................................................
                        ..............................=*##*****+=-..........................................................
                        ...........................=*###%***#***##*+**:.....................................................
                        ........................:#%###%%%#**#**#%#*#%##%%*-.................................................
                        ......................=#%%%%%%###%%####***#%#%%##%%#-...............................................
                        .....................#%@@@%#%%%%####%%%#***+*%%@@%%%%%*.............................................
                        ...................:%@@%%%%%%%%%%%%%%#%%##*++*######%%%#............................................
                        ..................:%%@@%%%@@@@@@@@@%%%%*+*%%#******###%%:...........................................
                        ..................%%%@%%@@@@@@@@@@@%%#%#**=*#%%%%%%%#%%%*...........................................
                        .................+%%%@@@@@@@@@@@@%%%%%#%##******#%***%@%#-..........................................
                        .................%%%%@@@@@@@@@@@@@@@%%%**+***+++++#*+*##%#..........................................
                        ................-%%%@@@@@@@@@@@@@@@%%#++====-----=**##**##..........................................
                        ................-%%%@@%%%@@@@@@@@@%#++==---::::---+*#%#**+..........................................
                        ................=%%%@%%####%%%%##*****+--:::::::---*##***:..........................................
                        .................%%%%#########****+==-----------:---=*++#-..........................................
                        .................=%%#**#######***+**+=+*#%##**+--:---+++*:..........................................
                        ..................%%**%%%%%%%%##*****++*****=---=----+++*...........................................
                        ..................=%**############*++***#####+===----++----.........................................
                        ...................%***##%%%%%%%%#=-:=*#%##*+--:-::--==--+=.........................................
                        ...................#*#####%%#%%%#*--::---+**=---::------:==.........................................
                        ...................#**###########*--::::--------::----:+=::.........................................
                        ...................#**##########+=---::-=*+===--:::-----=-..........................................
                        ...................+**####**####*==---:::=##***=--------:-..........................................
                        ....................#*##*++######**+==+==-*####*+-----::::..........................................
                        ....................#*#############**#*=-::-*###*=----=--...........................................
                        ....................-**##############+-----:-*###=----..............................................
                        .....................****###########**++**#%%%##*=----..............................................
                        ......................+#**##%@%#####*++---+---*#+----:..............................................
                        ......................-*#*###%%%##*+=-+=-::----=----::..............................................
                        .......................-*#########*++++==-------==--::..............................................
                        ........................-##########*****=--------=-:::..............................................
                        ..........................############+=----:---=--:::..............................................
                        ...........................*#######+----::::---==--::::.............................................
                        ............................*#####*+===------++=---::::::.:.........................................
                        ............................+########***++=+*=-----:::::::++++++-:..................................
                        ............................:############**=-------::::::+**++++++++++==-...........................
                        .............................*#########**+----------::::***+++++++++++++++++++-.....................
                        ............................-*########**+==--==-------+***++++++++++************++++=--.............
                        .........................+++**#########***+=====----+****+++++++++********************+++-..........
                        .....................:#%%#***#######*******+++==-=*****++++++++++***********************+++=........
                        ....................+%%%@%#**#######************#***++++++++++***************************++++-......
                        ...............:%%%#@%%%@@@%##########****#####******+++++********************************+++++.....
                        .............+%%%%%@%%%%%%@@@@@@@@@@%#########***************************#******#***********++++....
                        .........=#%%%%%%%%%%%%%%%%%%@@@@%####***********************************##*****#%***********++++...
                        ......=%%%@@%%%%%%%%%%@@@@@@@@@#*****************************************##*+***%%*************+++..
                        .....%@@@@@@@@@@@@@@@@@@@@@@%#######***************************************%%**#%%**#***********++-.
                        ....%@@@@@@@@@@@@@@@@@@@@@@#########****************************************%@**%@**#*************+:
                        ...+@@@@@@@@@@@@@@@@@@@@@############****************************************#@##@##*************#*=
                        ...%@@@@@@@@@@@@@@@@@@@%################**#************************************@#%#%**######*****##*
                        ...@@@@@@@@@@@@@@@@@@%######################***********************************#@*#%**########***###
                        ..:@@@@@@@@@@@@@@@@%###########################*********************************@%#@**#########**###
                        ..-@@@@@@@@@@@@@@%##############################********************************%@%@#*#%%######**##%
                        ..=@@@@@@@@@@@@@%###########**###################*********
`;

      const Data = {
        i18n: {
          es: {
            bootLines: [
              "Microsoft Windows XP [Versión 5.1.2600]",
              "(C) Copyright 1985-2001 Microsoft Corp.",
              "",
              "C:\\> inicializando entorno de portafolio...",
              "C:\\> cargando módulos: about.dll stack.dll projects.dll contact.dll",
              "C:\\> configurando interfaz de terminal...",
              "C:\\> listo.",
              "",
              "Presiona cualquier tecla para continuar...",
            ],
            title: "C:\\WINDOWS\\system32\\cmd.exe",
            menuHeader: "// navegación",
            menuItems: [
              "01. sobre_mí",
              "02. tecnologías",
              "03. proyectos",
              "04. contacto",
            ],
            prompt: "Escribe el número o haz clic en una opción.",
            promptPath: "C:\\portafolio>",
            consoleReady: "Sistema listo.",
            langLabel: "[ eng ]",
            themeLabel: "[ light_mode ]",
          },
          en: {
            bootLines: [
              "Microsoft Windows XP [Version 5.1.2600]",
              "(C) Copyright 1985-2001 Microsoft Corp.",
              "",
              "C:\\> initializing portfolio environment...",
              "C:\\> loading modules: about.dll stack.dll projects.dll contact.dll",
              "C:\\> setting up terminal interface...",
              "C:\\> done.",
              "",
              "Press any key to continue...",
            ],
            title: "C:\\WINDOWS\\system32\\cmd.exe",
            menuHeader: "// navigation",
            menuItems: [
              "01. about_me",
              "02. tech_stack",
              "03. projects",
              "04. contact",
            ],
            prompt: "Type a number or click an option.",
            promptPath: "C:\\portfolio>",
            consoleReady: "System ready.",
            langLabel: "[ spa ]",
            themeLabel: "[ dark_mode ]",
          },
        },

        modules: {
          about: {
            es: `
C:\\portafolio> type about.txt

>> cat skull.txt

[ ascii_art_loaded ]

>> cat bio_info.txt

estudiante de ingeniería en sistemas.
obsesionado con la arquitectura limpia.
orientado al flujo de datos y la eficiencia.

(usa las flechas o el scroll para ver más)
<pre id="ascii-me"></pre>
`,
            en: `
C:\\portfolio> type about.txt

>> cat skull.txt

[ ascii_art_loaded ]

>> cat bio_info.txt

systems engineering student.
obsessed with clean architecture.
data-flow oriented mindset.

(use arrows or scroll to see more)
<pre id="ascii-me"></pre>
`,
          },
          stack: {
            es: `
C:\\portafolio> type stack.json

{
  "núcleo": ["java", "python", "sql"],
  "backend": ["t-sql", "rest", "oop"],
  "tools": ["git", "linux", "docker"],
  "paradigma": "ACID / REST"
}
`,
            en: `
C:\\portfolio> type stack.json

{
  "core": ["java", "python", "sql"],
  "backend": ["t-sql", "rest", "oop"],
  "tools": ["git", "linux", "docker"],
  "paradigm": "ACID / REST"
}
`,
          },
          projects: {
            es: `
C:\\portafolio> dir proyectos

[ gestor_transacciones ]
  motor de concurrencia sql con control de transacciones
  y manejo de aislamiento.

[ motor_estadistico ]
  modelos y distribuciones estadísticas en python
  para ejercicios académicos.

[ otros ]
  scripts utilitarios, automatización y prácticas de sistemas.
`,
            en: `
C:\\portfolio> dir projects

[ transaction_manager ]
  sql concurrency engine with transaction control
  and isolation handling.

[ stats_engine ]
  python-based models and statistical distributions
  for academic problems.

[ misc ]
  utility scripts, automation and systems practice.
`,
          },
          contact: {
            es: `
C:\\portafolio> net user contacto

email  : mail@me.com
github : https://github.com/usuario

(para abrir los enlaces, haz clic con el mouse)
`,
            en: `
C:\\portfolio> net user contact

email  : mail@me.com
github : https://github.com/usuario

(click the links to open them)
`,
          },
        },
      };

      /* ========= APP ========= */
      const App = {
        state: {
          lang: "es",
          theme: "dark",
          mode: "boot", // boot | yin | main
        },
        intervals: [],

        init() {
          this.renderBootScreen();
          this.startBootSequence();
        },

        /* --- utilities --- */
        clearTimers() {
          this.intervals.forEach((id) => clearInterval(id));
          this.intervals = [];
        },

        /* ================= BOOT ================= */
        renderBootScreen() {
          const root = document.getElementById("app-root");
          root.innerHTML = `
            <div id="boot-screen" class="screen">
              <div id="boot-output"></div>
            </div>
          `;
        },

        async startBootSequence() {
          const t = Data.i18n[this.state.lang];
          const out = document.getElementById("boot-output");
          const lines = t.bootLines;
          out.textContent = "";

          for (let i = 0; i < lines.length - 1; i++) {
            await this.typeLine(out, lines[i] + "\n", 12);
          }

          // last line ("press any key...")
          const last = lines[lines.length - 1];
          const lineSpan = document.createElement("span");
          out.appendChild(lineSpan);
          await this.typeLine(lineSpan, last, 25);

          const blinkSpan = document.createElement("span");
          blinkSpan.className = "blink";
          blinkSpan.textContent = "_";
          out.appendChild(blinkSpan);

          const handler = () => {
            window.removeEventListener("keydown", handler);
            this.toYinScreen();
          };
          window.addEventListener("keydown", handler);
        },

        typeLine(element, text, speed) {
          return new Promise((resolve) => {
            let i = 0;
            const id = setInterval(() => {
              element.textContent += text[i];
              i++;
              if (i >= text.length) {
                clearInterval(id);
                resolve();
              }
            }, speed);
            this.intervals.push(id);
          });
        },

        /* ================= YIN SCREEN ================= */
        toYinScreen() {
          this.clearTimers();
          this.state.mode = "yin";

          const root = document.getElementById("app-root");
          const t = Data.i18n[this.state.lang];
          root.innerHTML = `
            <div id="yin-screen" class="screen">
              <div id="yin-art" class="yin-art"></div>
              <div id="yin-hint">
                ${
                  this.state.lang === "es"
                    ? "[ENTER] para iniciar el sistema"
                    : "[ENTER] to start the system"
                }
              </div>
            </div>
          `;

          const artEl = document.getElementById("yin-art");
          this.typeYinArt(artEl, 1);

          artEl.addEventListener("click", () => this.toMainScreen());

          const keyHandler = (e) => {
            if (e.key === "Enter") {
              window.removeEventListener("keydown", keyHandler);
              this.toMainScreen();
            }
          };
          window.addEventListener("keydown", keyHandler);
        },

        async typeYinArt(element, speed) {
          element.innerHTML = "";
          const text = YINYANG_ART;
          const colors = [
            "var(--text-main)",
            "var(--accent-green)",
            "var(--accent-blue)",
          ];

          for (let i = 0; i < text.length; i++) {
            const ch = text[i];
            if (ch === "\n") {
              element.innerHTML += "<br>";
              continue;
            }
            const isSpace = ch === " ";
            const useGlitch = !isSpace && Math.random() < 0.12;
            const color = colors[Math.floor(Math.random() * colors.length)];
            const safeChar = ch === "<" ? "&lt;" : ch === ">" ? "&gt;" : ch;

            if (useGlitch) {
              element.innerHTML += `<span class="glitch-char" style="color:${color}">${safeChar}</span>`;
            } else {
              element.innerHTML += isSpace
                ? "&nbsp;"
                : `<span style="color:${color}">${safeChar}</span>`;
            }

            if (speed > 0) {
              // eslint-disable-next-line no-await-in-loop
              await new Promise((r) => setTimeout(r, speed));
            }
          }
        },

        /* ================= MAIN TERMINAL ================= */
        toMainScreen() {
          this.clearTimers();
          this.state.mode = "main";

          const root = document.getElementById("app-root");
          const t = Data.i18n[this.state.lang];

          root.innerHTML = `
            <div id="main-screen" class="screen">
              <div class="term-titlebar">
                <span>${t.title}</span>
                <span>- cmd_portfolio</span>
              </div>
              <div class="term-body">
                <section class="pane">
                  <div class="pane-header">${t.menuHeader}</div>
                  <div id="menu-body" class="pane-body"></div>
                </section>
                <section class="pane">
                  <div class="pane-header">// display</div>
                  <div id="content-body" class="pane-body"></div>
                </section>
              </div>
              <div class="term-footer">
                <span id="console-log"></span>
                <span>
                  <span id="lang-toggle">${t.langLabel}</span>
                  &nbsp;
                  <span id="theme-toggle">${t.themeLabel}</span>
                </span>
              </div>
            </div>
          `;

          this.renderMenu();
          this.log(`> ${t.consoleReady}`);
          this.loadModule("about");
          this.attachFooterEvents();
        },

        renderMenu() {
          const t = Data.i18n[this.state.lang];
          const body = document.getElementById("menu-body");
          if (!body) return;

          let html = "";
          t.menuItems.forEach((label, idx) => {
            const key =
              idx === 0
                ? "about"
                : idx === 1
                ? "stack"
                : idx === 2
                ? "projects"
                : "contact";
            html += `${label}  <button class="menu-item-btn" onclick="App.loadModule('${key}')">[open]</button>\n`;
          });

          html += `\n${t.prompt}\n`;
          html += `<span id="prompt-line"><span class="prompt-path">${t.promptPath}</span> _</span>`;

          body.innerHTML = html;
        },

        attachFooterEvents() {
          const langToggle = document.getElementById("lang-toggle");
          const themeToggle = document.getElementById("theme-toggle");

          if (langToggle) {
            langToggle.onclick = () => {
              this.state.lang = this.state.lang === "es" ? "en" : "es";
              this.toMainScreen();
            };
          }

          if (themeToggle) {
            themeToggle.onclick = () => {
              this.toggleTheme();
            };
          }
        },

        toggleTheme() {
          if (this.state.theme === "dark") {
            document.body.style.backgroundColor = "#e6e6e6";
            document.body.style.color = "#000";
            this.state.theme = "light";
          } else {
            document.body.style.backgroundColor = "#000";
            document.body.style.color = "#f5f5f5";
            this.state.theme = "dark";
          }
        },

        log(text) {
          const el = document.getElementById("console-log");
          if (!el) return;
          const time = new Date()
            .toLocaleTimeString("en-GB", { hour12: false })
            .substring(0, 8);
          el.textContent = `[${time}] ${text}`;
        },

        /* --- modules --- */
        loadModule(key) {
          const mod = Data.modules[key];
          const t = mod ? mod[this.state.lang] : "";
          const out = document.getElementById("content-body");
          if (!out) return;
          this.typeHTML(out, t, 3).then(() => {
            if (key === "about") this.injectASCII();
            this.log(`MODULE_LOAD: ${key.toUpperCase()}`);
          });
        },

        typeHTML(element, html, speed) {
          return new Promise((resolve) => {
            element.innerHTML = "";
            const cursor = document.createElement("span");
            cursor.className = "typing-cursor";
            element.appendChild(cursor);

            const parts = html.split(/(<[^>]+>)/g).filter((p) => p !== "");

            let idx = 0;
            const typeNextPart = () => {
              if (idx >= parts.length) {
                cursor.remove();
                resolve();
                return;
              }
              const part = parts[idx++];
              if (part.startsWith("<") && part.endsWith(">")) {
                cursor.insertAdjacentHTML("beforebegin", part);
                typeNextPart();
              } else {
                let i = 0;
                const id = setInterval(() => {
                  const c = part[i];
                  const chunk =
                    Math.random() < 0.02 && c !== " "
                      ? `<span class="glitch-char">${c}</span>`
                      : c;
                  cursor.insertAdjacentHTML("beforebegin", chunk);
                  i++;
                  if (i >= part.length) {
                    clearInterval(id);
                    typeNextPart();
                  }
                }, speed);
                App.intervals.push(id);
              }
            };

            typeNextPart();
          });
        },

        injectASCII() {
          const asciiEl = document.getElementById("ascii-me");
          if (!asciiEl) return;
          asciiEl.textContent = "";
          const lines = ASCII_ME.split("\n");
          let i = 0;
          const id = setInterval(() => {
            if (i >= lines.length) {
              clearInterval(id);
              return;
            }
            asciiEl.textContent += lines[i] + "\n";
            i++;
          }, 8);
          this.intervals.push(id);
        },
      };

      window.App = App;
      window.onload = () => App.init();
    </script>
  </body>
</html>
